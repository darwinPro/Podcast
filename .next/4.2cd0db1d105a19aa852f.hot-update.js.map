{"version":3,"file":"4.2cd0db1d105a19aa852f.hot-update.js","sources":["webpack:///pages/channel.js"],"sourcesContent":["import 'isomorphic-fetch'\r\nimport Link from 'next/link'\r\nimport React, { Component } from 'react';\r\nimport Layout from '../components/Layout';\r\nimport ItemPodcast from '../components/item-podcast';\r\nimport ItemSerie from '../components/item-serie';\r\nimport ContainerGrid from '../components/container-grid';\r\nimport Error from './_error'\r\n\r\nclass Channel extends Component {\r\n\r\n    state={\r\n        \r\n    }\r\n\r\n    static async getInitialProps({ query, res }) {\r\n        let idChannel = query.id\r\n\r\n        try {\r\n            let [reqChannel, reqSeries, reqAudios] = await Promise.all([\r\n                fetch(`https://api.audioboom.com/channels/${idChannel}`),\r\n                fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`),\r\n                fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`)\r\n            ])\r\n\r\n            if(reqChannel.status >= 400){\r\n                res.statusCode= reqChannel.status\r\n                return { channel: null, audioClip: null, series: null, statusCode: reqChannel.status }\r\n            }\r\n\r\n            let dataChannel = await reqChannel.json()\r\n            let channel = dataChannel.body.channel\r\n\r\n            let dataAudio = await reqAudios.json()\r\n            let audioClip = dataAudio.body.audio_clips\r\n\r\n            let dataSeries = await reqSeries.json()\r\n            let series = dataSeries.body.channels\r\n\r\n            return { channel, audioClip, series, statusCode: 200 }\r\n        } catch (error) {\r\n            return { channel: null, audioClip: null, series: null, statusCode: 503 }\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const { channel, audioClip, series, statusCode } = this.props\r\n\r\n        if (statusCode !== 200) {\r\n            return <Error statusCode={statusCode} />\r\n        }\r\n\r\n        return (\r\n            <Layout title={channel.title}>\r\n\r\n                <picture >\r\n                    <div\r\n                        className=\"cover\"\r\n                        style={{\r\n                            backgroundImage: `url(${channel.urls.banner_image.original})`,\r\n                            backgroundPosition: 'center'\r\n                        }}\r\n                    ></div>\r\n                </picture>\r\n\r\n                <h1>{channel.title}</h1>\r\n\r\n                <ContainerGrid title=\"Ultimos Podcast\">\r\n                    {\r\n                        audioClip.map((clip) => <ItemPodcast clip={clip} />)\r\n                    }\r\n                </ContainerGrid>\r\n\r\n                <ContainerGrid title=\"Series\">\r\n                    {\r\n                        series.map((serie) =>\r\n                            <ItemSerie serie={serie}></ItemSerie>\r\n                        )\r\n                    }\r\n                </ContainerGrid>\r\n\r\n\r\n                <style jsx>{`\r\n                    .cover{\r\n                        width:100%;\r\n                        height:350px;\r\n                    }\r\n                `}</style>\r\n\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Channel;\n\n\n// WEBPACK FOOTER //\n// pages/channel.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;AAkCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAFA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAtBA;AAAA;AAAA;AAsCA;;;;;;;;;;;;;AA7EA;AACA;;;AAGA;AACA;;;;AADA;AAAA;AAAA;AACA;AAKA;;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AACA;;AADA;AACA;;AAEA;AACA;;AADA;AACA;;AAEA;AACA;;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAjCA;AACA;AAqFA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}